{
  "version": "2.0.0",
  "schema_version": "panelin_truth_v2_deterministic",
  "last_sync": "2026-01-28T10:00:00Z",
  "shopify_store": "bmcuruguay.myshopify.com",
  "source_notes": "Single Source of Truth for BMC Uruguay quotations. All prices synchronized from Shopify.",
  
  "products": {
    "ISOPANEL_EPS_50mm": {
      "shopify_id": "gid://shopify/Product/isopanel-eps-paredes-y-fachadas",
      "name": "ISOPANEL EPS (Paredes y Fachadas) 50mm",
      "family": "ISOPANEL",
      "sub_family": "EPS",
      "application": ["paredes", "fachadas"],
      "thickness_mm": 50,
      "price_per_m2": 41.88,
      "currency": "USD",
      "ancho_util_m": 1.14,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOPANEL_EPS_100mm": {
      "shopify_id": "gid://shopify/Product/isopanel-eps-paredes-y-fachadas-100",
      "name": "ISOPANEL EPS (Paredes y Fachadas) 100mm",
      "family": "ISOPANEL",
      "sub_family": "EPS",
      "application": ["paredes", "fachadas"],
      "thickness_mm": 100,
      "price_per_m2": 48.50,
      "currency": "USD",
      "ancho_util_m": 1.14,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOPANEL_EPS_150mm": {
      "shopify_id": "gid://shopify/Product/isopanel-eps-paredes-y-fachadas-150",
      "name": "ISOPANEL EPS (Paredes y Fachadas) 150mm",
      "family": "ISOPANEL",
      "sub_family": "EPS",
      "application": ["paredes", "fachadas"],
      "thickness_mm": 150,
      "price_per_m2": 55.20,
      "currency": "USD",
      "ancho_util_m": 1.14,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOPANEL_EPS_200mm": {
      "shopify_id": "gid://shopify/Product/isopanel-eps-paredes-y-fachadas-200",
      "name": "ISOPANEL EPS (Paredes y Fachadas) 200mm",
      "family": "ISOPANEL",
      "sub_family": "EPS",
      "application": ["paredes", "fachadas"],
      "thickness_mm": 200,
      "price_per_m2": 62.00,
      "currency": "USD",
      "ancho_util_m": 1.14,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOPANEL_EPS_250mm": {
      "shopify_id": "gid://shopify/Product/isopanel-eps-paredes-y-fachadas-250",
      "name": "ISOPANEL EPS (Paredes y Fachadas) 250mm",
      "family": "ISOPANEL",
      "sub_family": "EPS",
      "application": ["paredes", "fachadas"],
      "thickness_mm": 250,
      "price_per_m2": 68.80,
      "currency": "USD",
      "ancho_util_m": 1.14,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_EPS_100mm": {
      "shopify_id": "gid://shopify/Product/isopanel-isodec-eps-cubiertas",
      "name": "ISODEC EPS (Techos y Cubiertas) 100mm",
      "family": "ISODEC",
      "sub_family": "EPS",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 100,
      "price_per_m2": 46.07,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_EPS_150mm": {
      "shopify_id": "gid://shopify/Product/isopanel-isodec-eps-cubiertas-150",
      "name": "ISODEC EPS (Techos y Cubiertas) 150mm",
      "family": "ISODEC",
      "sub_family": "EPS",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 150,
      "price_per_m2": 52.50,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_EPS_200mm": {
      "shopify_id": "gid://shopify/Product/isopanel-isodec-eps-cubiertas-200",
      "name": "ISODEC EPS (Techos y Cubiertas) 200mm",
      "family": "ISODEC",
      "sub_family": "EPS",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 200,
      "price_per_m2": 59.20,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_EPS_250mm": {
      "shopify_id": "gid://shopify/Product/isopanel-isodec-eps-cubiertas-250",
      "name": "ISODEC EPS (Techos y Cubiertas) 250mm",
      "family": "ISODEC",
      "sub_family": "EPS",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 250,
      "price_per_m2": 66.00,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 2.3,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_PIR_50mm": {
      "shopify_id": "gid://shopify/Product/isodec-pir-50",
      "name": "ISODEC PIR (Techos y Cubiertas) 50mm",
      "family": "ISODEC",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 50,
      "price_per_m2": 51.02,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_PIR_80mm": {
      "shopify_id": "gid://shopify/Product/isodec-pir-80",
      "name": "ISODEC PIR (Techos y Cubiertas) 80mm",
      "family": "ISODEC",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 80,
      "price_per_m2": 58.00,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISODEC_PIR_120mm": {
      "shopify_id": "gid://shopify/Product/isodec-pir-120",
      "name": "ISODEC PIR (Techos y Cubiertas) 120mm",
      "family": "ISODEC",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 120,
      "price_per_m2": 72.00,
      "currency": "USD",
      "ancho_util_m": 1.12,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOWALL_PIR_50mm": {
      "shopify_id": "gid://shopify/Product/isowall-pir-50",
      "name": "ISOWALL PIR (Fachadas) 50mm",
      "family": "ISOWALL",
      "sub_family": "PIR",
      "application": ["fachadas"],
      "thickness_mm": 50,
      "price_per_m2": 54.65,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOWALL_PIR_80mm": {
      "shopify_id": "gid://shopify/Product/isowall-pir-80",
      "name": "ISOWALL PIR (Fachadas) 80mm",
      "family": "ISOWALL",
      "sub_family": "PIR",
      "application": ["fachadas"],
      "thickness_mm": 80,
      "price_per_m2": 62.50,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOROOF_3G": {
      "shopify_id": "gid://shopify/Product/isoroof-3g",
      "name": "ISOROOF 3G",
      "family": "ISOROOF",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 30,
      "price_per_m2": 48.74,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOROOF_PLUS_3G": {
      "shopify_id": "gid://shopify/Product/isoroof-plus-3g",
      "name": "ISOROOF PLUS 3G",
      "family": "ISOROOF",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 80,
      "price_per_m2": 71.76,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "out_of_stock",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "ISOROOF_FOIL_3G": {
      "shopify_id": "gid://shopify/Product/isoroof-foil-3g",
      "name": "ISOROOF FOIL 3G",
      "family": "ISOROOF",
      "sub_family": "PIR",
      "application": ["techos", "cubiertas", "agro"],
      "thickness_mm": 30,
      "price_per_m2": 39.54,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 3.5,
      "largo_max_m": 14.0,
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    },
    "HIANSA_PANEL_5G": {
      "shopify_id": "gid://shopify/Product/hiansa-panel-5g",
      "name": "Hiansa-Panel (Trapezoidal 5G) - BECAM",
      "family": "HIANSA",
      "sub_family": "BECAM",
      "application": ["techos", "cubiertas"],
      "thickness_mm": 50,
      "price_per_m2": 46.73,
      "currency": "USD",
      "ancho_util_m": 1.0,
      "largo_min_m": 2.95,
      "largo_max_m": 7.95,
      "largos_disponibles_m": [2.95, 3.95, 4.95, 5.95, 6.95, 7.95],
      "autoportancia_m": 5.5,
      "calculation_rules": {
        "minimum_order_m2": 10,
        "bulk_discount_threshold_m2": 100,
        "bulk_discount_percent": 5,
        "max_discount_percent": 15
      },
      "inventory_quantity": null,
      "stock_status": "available",
      "last_updated": "2026-01-28T09:30:00Z",
      "_sync_source": "shopify_webhook"
    }
  },
  
  "accessories": {
    "CINTA_BUTILICA": {
      "name": "Cinta Butílica",
      "sku": "C.But.",
      "unit": "rollo",
      "price_per_unit": 15.00,
      "currency": "USD"
    },
    "BROMPLAST": {
      "name": "Bromplast (Sellador)",
      "sku": "Bromplast",
      "unit": "tubo",
      "price_per_unit": 8.50,
      "currency": "USD"
    },
    "REMACHES": {
      "name": "Remaches",
      "sku": "REM-01",
      "unit": "caja_100",
      "price_per_unit": 12.00,
      "currency": "USD"
    },
    "TORNILLOS_AUTOPERFORANTES": {
      "name": "Tornillos Autoperforantes",
      "sku": "TORN-AP",
      "unit": "caja_100",
      "price_per_unit": 18.00,
      "currency": "USD"
    }
  },
  
  "perfileria": {
    "GOTERO_FRONTAL_30": {
      "name": "Gotero Frontal 30mm",
      "sku": "GFS30",
      "length_m": 3.0,
      "price_per_unit": 22.00,
      "currency": "USD"
    },
    "GOTERO_FRONTAL_50": {
      "name": "Gotero Frontal 50mm",
      "sku": "GFS50",
      "length_m": 3.0,
      "price_per_unit": 25.00,
      "currency": "USD"
    },
    "GOTERO_FRONTAL_80": {
      "name": "Gotero Frontal 80mm",
      "sku": "GFS80",
      "length_m": 3.0,
      "price_per_unit": 28.00,
      "currency": "USD"
    }
  },
  
  "pricing_rules": {
    "tax_rate_uy_iva": 0.22,
    "delivery_cost_per_m2": 1.50,
    "minimum_delivery_charge_usd": 50.0,
    "minimum_order_value_usd": 200.0,
    "payment_terms": {
      "contado": { "discount_percent": 3 },
      "30_dias": { "discount_percent": 0 },
      "60_dias": { "surcharge_percent": 2 }
    }
  },
  
  "formulas": {
    "panels_needed": {
      "formula": "ceil(ancho_total / ancho_util)",
      "description": "Cantidad de paneles = REDONDEAR.HACIA.ARRIBA(Ancho Total / Ancho Útil)"
    },
    "supports_needed": {
      "formula": "ceil((largo / autoportancia) + 1)",
      "description": "Cantidad de apoyos = REDONDEAR.HACIA.ARRIBA((Largo / Autoportancia) + 1)"
    },
    "fixation_points_roof": {
      "formula": "ceil(((cantidad_paneles * apoyos) * 2) + (largo * 2 / 2.5))",
      "description": "Puntos de fijación para techo"
    },
    "rod_quantity": {
      "formula": "ceil(puntos_fijacion / 4)",
      "description": "Cantidad de varillas = REDONDEAR.HACIA.ARRIBA(Puntos / 4)"
    },
    "front_drip_edge": {
      "formula": "ceil((cantidad_paneles * ancho_util) / 3)",
      "description": "Gotero frontal = REDONDEAR.HACIA.ARRIBA((Cantidad × Ancho Útil) / 3)"
    },
    "lateral_drip_edge": {
      "formula": "ceil((largo * 2) / 3)",
      "description": "Gotero lateral = REDONDEAR.HACIA.ARRIBA((Largo × 2) / 3)"
    },
    "rivets_needed": {
      "formula": "ceil(total_perfiles * 20)",
      "description": "Remaches = REDONDEAR.HACIA.ARRIBA(Total Perfiles × 20)"
    },
    "silicone_tubes": {
      "formula": "ceil(total_ml / 8)",
      "description": "Tubos de silicona = REDONDEAR.HACIA.ARRIBA(Total ML / 8)"
    }
  },
  
  "_meta": {
    "created_by": "panelin_agent_v2",
    "architecture": "single_agent_deterministic_tools",
    "llm_role": "parameter_extraction_only",
    "calculation_verified": "python_decimal_only"
  }
}
