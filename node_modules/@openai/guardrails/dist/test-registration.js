"use strict";
/**
 * Test file to verify auto-registration of built-in guardrails.
 *
 * This file demonstrates that importing the checks module automatically
 * registers all built-in guardrails with the defaultSpecRegistry.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.allMetadata = exports.allSpecs = void 0;
const registry_1 = require("./registry");
require("./checks"); // This should trigger auto-registration
console.log('Testing auto-registration of built-in guardrails...\n');
// Check what's registered
const allSpecs = registry_1.defaultSpecRegistry.get_all();
exports.allSpecs = allSpecs;
const allMetadata = registry_1.defaultSpecRegistry.get_all_metadata();
exports.allMetadata = allMetadata;
console.log(`Total registered guardrails: ${registry_1.defaultSpecRegistry.size()}`);
console.log('\nRegistered guardrails:');
allMetadata.forEach((meta) => {
    console.log(`- ${meta.name}: ${meta.description}`);
    console.log(`  Media type: ${meta.mediaType}`);
    console.log(`  Has config: ${meta.hasConfig}`);
    console.log(`  Has context: ${meta.hasContext}`);
    console.log(`  Engine: ${meta.metadata?.engine || 'unknown'}`);
    console.log('');
});
// Test getting specific guardrails
const keywordsSpec = registry_1.defaultSpecRegistry.get('keywords');
const urlsSpec = registry_1.defaultSpecRegistry.get('urls');
const piiSpec = registry_1.defaultSpecRegistry.get('pii');
console.log('Testing specific guardrail retrieval:');
console.log(`- keywords: ${keywordsSpec ? '✅ Found' : '❌ Not found'}`);
console.log(`- urls: ${urlsSpec ? '✅ Found' : '❌ Not found'}`);
console.log(`- pii: ${piiSpec ? '✅ Found' : '❌ Not found'}`);
if (keywordsSpec) {
    console.log('\nKeywords guardrail details:');
    console.log(`  Name: ${keywordsSpec.name}`);
    console.log(`  Description: ${keywordsSpec.description}`);
    console.log(`  Media type: ${keywordsSpec.mediaType}`);
    console.log(`  Config schema: ${keywordsSpec.configSchema ? 'Available' : 'None'}`);
}
//# sourceMappingURL=test-registration.js.map